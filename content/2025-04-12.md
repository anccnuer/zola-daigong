+++
title="鼠键到货&网站优化"
date =2025-04-12
+++
## 鼠标与键盘

![](/img/2025-04-12-1.avif)

键盘还赠送了替换用的键帽，用起来比较舒服，打字声音挺好听的，手感也很不错，就是这个键盘的布局不是很能习惯。需要一点时间来磨合。

鼠标侧键可以自定义功能，可以打开程序、自定义键盘组合键，只是需要一直在后台挂着驱动程序才能实现功能。驱动一关，修改失效。对于我这种内存洁癖患者来说，我不太能接受有一个程序一直挂在我的后台上，所以侧键变得鸡肋了起来。

鼠标手感还是不错的，握持感很好，不知道白色会不会很容易变脏变黄。用一段时间再看吧，反正这么便宜，能用几个月就很好了。 

## 网站字体优化
之前使用的是[中文网字计划--字图 CDN](https://chinese-font.netlify.app/zh-cn/cdn/)，使用起来很方便，但是文章中没有的字也会被加载进来，再加上分片加载，会同时发起很多个请求，在网络条件不好的时候，文章中的有些字有字体，有些字保持系统默认，这种情况会存在很久，看起来像白癜风一样，让人很不舒服。于是查了一些资料，发现可以使用woff2格式。我尝试了一下，本站在用的朱雀仿宋woff2格式有4m左右。还有一种优化方式是取字体子集，我尝试了一级字3500，但是会有部分字被排除之外。于是我想到，可以写一个脚本，动态识别博文中出现的文字，然后生成汉字表，然后取子集。
```
# ttf转woff2
fonttools ttLib.woff2 compress ZhuqueFangsong-Regular.ttf" -o "Zhuque.woff2"
# 取子集
fonttools subset Zhuque.woff2 --text-file="hanzi.txt" --output-file="Zhuque.woff2"
```
至于如何动态生成汉字表，我把这个任务交给了deepseek，幸运的是他表现很不错，修改了几次就做出了运行良好的python程序。我又在这个程序结尾处加入执行命令的语句，至此，我的需求基本被实现。截至这篇文章时，压缩后的字体文件大小为：177kb，大约是一张图片的大小。

当然缺点也是有的，随着我的文章数量增多，所用到的汉字也会逐渐增加，那么这个字体文件的大小也会增长。还有就是，执行脚本的过程有点慢，需要等待将近一分钟，有空继续优化。